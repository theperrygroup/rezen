# Quick Start Guide

Get up and running with the ReZEN API in 5 minutes! This guide walks you through your first API calls.

## üéØ Goal

By the end of this guide, you'll:
- ‚úÖ Set up authentication
- ‚úÖ Make your first API call
- ‚úÖ Search for teams and agents
- ‚úÖ Create a simple transaction

## üìã Prerequisites

- Python 3.7+ installed
- ReZEN API key ([get one here](https://platform.rezen.com))
- 5 minutes ‚è±Ô∏è

## üöÄ Step 1: Install & Setup

### Install the Package

```bash
pip install rezen
```

### Set Your API Key

```bash
# Set environment variable (recommended)
export REZEN_API_KEY="your_api_key_here"
```

## üîå Step 2: First Connection

Create a file called `quickstart.py`:

```python
from typing import Optional

from rezen import RezenClient

# Initialize client (uses REZEN_API_KEY environment variable)
client: RezenClient = RezenClient()

print("üöÄ ReZEN Client initialized!")
print(f"üì¶ Version: {client.__module__}")
```

Run it:
```bash
python quickstart.py
```

## üë• Step 3: Search for Teams

Let's find some teams to work with:

```python
from typing import Dict, List, Any

from rezen import RezenClient
from rezen.exceptions import RezenError, ValidationError, AuthenticationError

client: RezenClient = RezenClient()

# Search for active teams
try:
    teams: List[Dict[str, Any]] = client.teams.search_teams(
        status="ACTIVE",
        limit=5
    )

    print(f"‚úÖ Found {len(teams)} teams")

    for team in teams:
        print(f"üè¢ Team: {team.get('name', 'N/A')}")
        print(f"   ID: {team.get('id')}")
        print(f"   Type: {team.get('type', 'N/A')}")
        print()

except AuthenticationError as e:
    print(f"‚ùå Authentication error: {e}")
except ValidationError as e:
    print(f"‚ùå Validation error: {e}")
except RezenError as e:
    print(f"‚ùå API error: {e}")
except Exception as e:
    print(f"‚ùå Unexpected error: {e}")
```

**Expected Output:**
```
‚úÖ Found 3 teams
üè¢ Team: Downtown Realty
   ID: team-12345
   Type: NORMAL

üè¢ Team: Premier Properties
   ID: team-67890
   Type: PLATINUM
```

## ü§ù Step 4: Search for Agents

Now let's find some agents:

```python
from typing import Dict, List, Any

from rezen import RezenClient
from rezen.exceptions import RezenError, ValidationError, AuthenticationError

client: RezenClient = RezenClient()

# Search for active agents
try:
    agents: List[Dict[str, Any]] = client.agents.search_active_agents(
        name="John",  # Search by name
        limit=3
    )

    print(f"‚úÖ Found {len(agents)} agents")

    for agent in agents:
        print(f"üë§ Agent: {agent.get('first_name', '')} {agent.get('last_name', '')}")
        print(f"   ID: {agent.get('id')}")
        print(f"   Email: {agent.get('email', 'N/A')}")
        print()

except AuthenticationError as e:
    print(f"‚ùå Authentication error: {e}")
except ValidationError as e:
    print(f"‚ùå Validation error: {e}")
except RezenError as e:
    print(f"‚ùå API error: {e}")
except Exception as e:
    print(f"‚ùå Unexpected error: {e}")
```

## üèóÔ∏è Step 5: Create a Transaction Builder

Let's create your first transaction:

```python
from typing import Dict, Any, Optional

from rezen import RezenClient
from rezen.exceptions import RezenError, ValidationError, AuthenticationError

client: RezenClient = RezenClient()

# Create a simple purchase transaction
transaction_data: Dict[str, Any] = {
    "type": "PURCHASE",
    "property": {
        "address": "123 Main Street",
        "city": "Anytown",
        "state": "CA",
        "zipCode": "90210"
    },
    "purchase_price": 500000
}

try:
    # Create transaction builder
    response: Dict[str, Any] = client.transaction_builder.create_transaction_builder(transaction_data)

    transaction_id: str = response.get('id')
    print(f"‚úÖ Transaction created!")
    print(f"üÜî Transaction ID: {transaction_id}")
    print(f"üè† Property: {transaction_data['property']['address']}")
    print(f"üí∞ Price: ${transaction_data['purchase_price']:,}")

except AuthenticationError as e:
    print(f"‚ùå Authentication error: {e}")
except ValidationError as e:
    print(f"‚ùå Validation error: {e}")
except RezenError as e:
    print(f"‚ùå API error: {e}")
except Exception as e:
    print(f"‚ùå Unexpected error creating transaction: {e}")
```

## üìã Step 6: Add Participants

Let's add a buyer to our transaction:

```python
from typing import Dict, Any

from rezen import RezenClient
from rezen.exceptions import RezenError, ValidationError, AuthenticationError

client: RezenClient = RezenClient()

# Assuming you have a transaction_id from Step 5
transaction_id: str = "your-transaction-id-here"

buyer_data: Dict[str, Any] = {
    "type": "BUYER",
    "first_name": "Jane",
    "last_name": "Smith",
    "email": "jane.smith@email.com",
    "phone": "+1-555-123-4567"
}

try:
    # Add buyer to transaction
    buyer_response: Dict[str, Any] = client.transaction_builder.add_buyer(
        transaction_id=transaction_id,
        buyer_data=buyer_data
    )

    print(f"‚úÖ Buyer added!")
    print(f"üë§ Name: {buyer_data['first_name']} {buyer_data['last_name']}")
    print(f"üìß Email: {buyer_data['email']}")

except AuthenticationError as e:
    print(f"‚ùå Authentication error: {e}")
except ValidationError as e:
    print(f"‚ùå Validation error: {e}")
except RezenError as e:
    print(f"‚ùå API error: {e}")
except Exception as e:
    print(f"‚ùå Unexpected error adding buyer: {e}")
```

## üìä Step 7: Get Transaction Status

Check your transaction:

```python
from typing import Dict, List, Any

from rezen import RezenClient
from rezen.exceptions import RezenError, ValidationError, AuthenticationError, NotFoundError

client: RezenClient = RezenClient()
transaction_id: str = "your-transaction-id-here"

try:
    # Get transaction details
    transaction: Dict[str, Any] = client.transactions.get_transaction(transaction_id)

    print(f"‚úÖ Transaction Details:")
    print(f"üÜî ID: {transaction.get('id')}")
    print(f"üìç Status: {transaction.get('status', 'N/A')}")
    print(f"üè† Property: {transaction.get('property', {}).get('address', 'N/A')}")

    # Show participants
    participants: List[Dict[str, Any]] = transaction.get('participants', [])
    print(f"üë• Participants: {len(participants)}")

    for participant in participants:
        print(f"   - {participant.get('type')}: {participant.get('first_name')} {participant.get('last_name')}")

except AuthenticationError as e:
    print(f"‚ùå Authentication error: {e}")
except NotFoundError as e:
    print(f"‚ùå Transaction not found: {e}")
except ValidationError as e:
    print(f"‚ùå Validation error: {e}")
except RezenError as e:
    print(f"‚ùå API error: {e}")
except Exception as e:
    print(f"‚ùå Unexpected error getting transaction: {e}")
```

## üéØ Complete Example

Here's everything together in one script:

```python
import time
from datetime import datetime, timedelta
from typing import Dict, List, Any, Optional

from rezen import RezenClient
from rezen.exceptions import RezenError, ValidationError, AuthenticationError, NotFoundError


def main() -> None:
    """Main function demonstrating ReZEN API usage.

    This function shows a complete workflow including:
    - Searching for teams and agents
    - Creating a transaction
    - Adding participants
    - Checking transaction status

    Raises:
        RezenError: If API requests fail
        AuthenticationError: If API key is invalid
        ValidationError: If request data is invalid
    """
    # Initialize client
    print("üöÄ Initializing ReZEN client...")
    client: RezenClient = RezenClient()

    # 1. Search for teams
    print("\n1Ô∏è‚É£ Searching for teams...")
    try:
        teams: List[Dict[str, Any]] = client.teams.search_teams(status="ACTIVE", limit=2)
        print(f"‚úÖ Found {len(teams)} teams")
        for team in teams[:1]:  # Show first team
            print(f"   üè¢ {team.get('name', 'N/A')} (ID: {team.get('id')})")
    except (AuthenticationError, ValidationError, RezenError) as e:
        print(f"‚ùå Teams error: {e}")

    # 2. Search for agents
    print("\n2Ô∏è‚É£ Searching for agents...")
    try:
        agents: List[Dict[str, Any]] = client.agents.search_active_agents(limit=2)
        print(f"‚úÖ Found {len(agents)} agents")
        for agent in agents[:1]:  # Show first agent
            name: str = f"{agent.get('first_name', '')} {agent.get('last_name', '')}"
            print(f"   üë§ {name} (ID: {agent.get('id')})")
    except (AuthenticationError, ValidationError, RezenError) as e:
        print(f"‚ùå Agents error: {e}")

    # 3. Create transaction
    print("\n3Ô∏è‚É£ Creating transaction...")
    transaction_data: Dict[str, Any] = {
        "type": "PURCHASE",
        "property": {
            "address": "123 Quick Start Ave",
            "city": "Demo City",
            "state": "CA",
            "zipCode": "90210"
        },
        "purchase_price": 750000
    }

    try:
        response: Dict[str, Any] = client.transaction_builder.create_transaction_builder(transaction_data)
        transaction_id: str = response.get('id')
        print(f"‚úÖ Transaction created: {transaction_id}")
    except (AuthenticationError, ValidationError, RezenError) as e:
        print(f"‚ùå Transaction error: {e}")
        return

    # 4. Add buyer
    print("\n4Ô∏è‚É£ Adding buyer...")
    buyer_data: Dict[str, Any] = {
        "type": "BUYER",
        "first_name": "Quick",
        "last_name": "Start",
        "email": "quickstart@demo.com",
        "phone": "+1-555-DEMO-123"
    }

    try:
        client.transaction_builder.add_buyer(
            transaction_id=transaction_id,
            buyer_data=buyer_data
        )
        print(f"‚úÖ Buyer added: {buyer_data['first_name']} {buyer_data['last_name']}")
    except (AuthenticationError, ValidationError, RezenError) as e:
        print(f"‚ùå Buyer error: {e}")

    # 5. Get final status
    print("\n5Ô∏è‚É£ Checking transaction status...")
    try:
        transaction: Dict[str, Any] = client.transactions.get_transaction(transaction_id)
        print(f"‚úÖ Transaction Status: {transaction.get('status', 'N/A')}")
        print(f"üë• Participants: {len(transaction.get('participants', []))}")
    except (AuthenticationError, NotFoundError, ValidationError, RezenError) as e:
        print(f"‚ùå Status error: {e}")

    print("\nüéâ Quick start complete!")
    print(f"üÜî Your transaction ID: {transaction_id}")


if __name__ == "__main__":
    main()
```

## üö® Error Handling

Add proper error handling for production code:

```python
from typing import List, Dict, Any

from rezen import RezenClient
from rezen.exceptions import (
    AuthenticationError,
    ValidationError,
    NotFoundError,
    RateLimitError,
    RezenError
)

client: RezenClient = RezenClient()

try:
    teams: List[Dict[str, Any]] = client.teams.search_teams()
    print(f"Success: {len(teams)} teams found")

except AuthenticationError as e:
    print(f"‚ùå Check your API key: {e}")

except ValidationError as e:
    print(f"‚ùå Invalid request: {e}")

except NotFoundError as e:
    print(f"‚ùå Resource not found: {e}")

except RateLimitError as e:
    print(f"‚ùå Rate limit exceeded - wait and retry: {e}")

except RezenError as e:
    print(f"‚ùå API error: {e}")

except Exception as e:
    print(f"‚ùå Unexpected error: {e}")
```

## üéØ What's Next?

Now that you've completed the quick start:

### üìö Learn More
- **[API Reference](../api/index.md)** - Complete endpoint documentation
- **[Examples](../guides/examples.md)** - Real-world usage patterns
- **[Error Handling](../guides/troubleshooting.md)** - Robust error handling

### üîß Common Tasks
- **Transaction Management** - Work with existing transactions
- **Batch Operations** - Process multiple items efficiently
- **Advanced Queries** - Complex search and filtering

### üèóÔ∏è Production Ready
- **Environment Configuration** - Staging vs production
- **Logging & Monitoring** - Track API usage
- **Testing Strategies** - Unit and integration tests

## üí° Tips for Success

### üîç **Explore the API**
```python
from rezen import RezenClient

client: RezenClient = RezenClient()

# Get help on any client
help(client.transaction_builder)
help(client.transactions)
help(client.teams)
help(client.agents)
```

### üìù **Keep Transaction IDs**
Save transaction IDs for later operations:
```python
from typing import List

# Store important IDs
important_transactions: List[str] = []
response = client.transaction_builder.create_transaction_builder(data)
important_transactions.append(response['id'])
```

### ‚ö° **Use Type Hints**
Get better IDE support:
```python
from typing import List, Dict, Any

from rezen import RezenClient

client: RezenClient = RezenClient()
teams: List[Dict[str, Any]] = client.teams.search_teams()
```

## üÜò Need Help?

- **üìñ Documentation**: [Full API Reference](../api/index.md)
- **üí° Examples**: [Common Patterns](../guides/examples.md)
- **üêõ Issues**: [Troubleshooting Guide](../guides/troubleshooting.md)
- **üí¨ Support**: [Contact Support](mailto:support@rezen.com)

---

**üéâ Congratulations!** You've successfully:
- ‚úÖ Connected to the ReZEN API
- ‚úÖ Searched teams and agents
- ‚úÖ Created a transaction
- ‚úÖ Added participants
- ‚úÖ Retrieved transaction status

**Ready for more?** Continue to the [API Reference](../api/index.md) for complete documentation.
